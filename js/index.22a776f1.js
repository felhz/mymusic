(function(t){function e(e){for(var i,r,s=e[0],c=e[1],u=e[2],d=0,p=[];d<s.length;d++)r=s[d],a[r]&&p.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},a={index:0},o=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/mymusic/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("5779")},"00ed":function(t,e,n){"use strict";var i=n("19ab"),a=n.n(i);a.a},1845:function(t,e,n){},"19ab":function(t,e,n){},"4fab":function(t,e,n){"use strict";var i=n("de3f"),a=n.n(i);a.a},5779:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("el-container",{staticStyle:{height:"100%"}},[n("el-aside",{staticStyle:{padding:"0"},attrs:{width:"400px"}},[n("Aside",{staticStyle:{height:"100%"},attrs:{"song-list":t.SongList}})],1),n("el-container",[n("el-header",[n("Header",{attrs:{"ch-category":t.categoryId},on:{"update:chCategory":function(e){t.categoryId=e},"update:ch-category":function(e){t.categoryId=e}}})],1),n("el-main",{staticStyle:{padding:"0"}},[n("transition",{attrs:{name:"fade"}},[n("router-view",{attrs:{"song-list":t.SongList,"category-id":t.categoryId},on:{"update:songList":function(e){t.SongList=e},"update:song-list":function(e){t.SongList=e}}})],1)],1),n("el-footer",[t.playerInfo?n("div",[n("AudioPlayer",{attrs:{"player-info":t.playerInfo},on:{chindex:t.audioChIndex}})],1):t._e()])],1)],1)],1)},o=[],r=n("cebc"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"100%"}},[n("router-view",{attrs:{name:"a"}}),t.songList?n("div",{staticStyle:{"background-color":"aqua",height:"50px","line-height":"50px"}},[n("span",{staticClass:"music-title"},[t._v(t._s(t.songList.title))]),n("br")]):t._e(),n("div",{staticStyle:{height:"calc(100% - 50px)"}},[n("SongList",{staticStyle:{height:"100%",overflow:"auto"},attrs:{"song-list":t.songList}})],1)],1)},c=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.songList?n("div",t._l(t.songList.songs,function(e,i){return n("div",{key:i,class:[t.playerIndex===i?"player-item":"","list-item"],staticStyle:{position:"relative"},on:{click:function(e){return t.handleSongItem(i)}}},[n("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.pic,fit:"cover"}}),n("span",{staticStyle:{"padding-left":"30px"}},[t._v("名字")]),t._v(":\n            "),n("span",[t._v(t._s(e.name))]),t.playerIndex===i?n("i",{staticClass:"el-icon-video-play ",staticStyle:{float:"right",margin:"19px 100px 0 0"}}):t._e()],1)}),0):n("div",{staticClass:"list-empty-icon"},[n("i",{staticClass:"el-icon-s-shop"}),n("br"),t._v("\n        播放列表为空,选择歌单\n    ")])])},l=[],d=n("2f62"),p={name:"AudioList",props:["songList"],data:function(){return{}},methods:{handleSongItem:function(t){this.$store.commit("updatePlayerIndex",t)}},watch:{songList:function(){this.$store.commit("updateplayerList",this.songList)}},computed:Object(d["b"])({playerIndex:function(t){return t.playerIndex}})},f=p,h=(n("ce45"),n("2877")),g=Object(h["a"])(f,u,l,!1,null,"8257f1a6",null),y=g.exports,m={props:["songList"],data:function(){return{}},components:{SongList:y},watch:{songList:function(){console.log(this.songList)}}},v=m,x=(n("4fab"),Object(h["a"])(v,s,c,!1,null,null,null)),S=x.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelect}},t._l(t.sortArr,function(e,i){return n("el-submenu",{key:i,attrs:{index:i+""}},[n("template",{slot:"title"},[t._v(t._s(e.categoryGroupName))]),t._l(e.items,function(e,a){return n("el-menu-item",{key:a,attrs:{index:i+"-"+a},on:{click:function(n){return t.selectCategory(e.categoryId)}}},[t._v("\n                "+t._s(e.categoryName)+"\n            ")])})],2)}),1)],1)},_=[],L={name:"Header",data:function(){return{activeIndex:"0-0",sortArr:[]}},mounted:function(){var t=this;this.musicApi.songListCategory().then(function(e){t.sortArr=e.data.data,t.$emit("update:ch-category",t.sortArr[0].items[0].categoryId)})},methods:{handleSelect:function(){},selectCategory:function(t){this.$emit("update:ch-category",t)}}},I=L,w=Object(h["a"])(I,b,_,!1,null,"7cbe1740",null),k=w.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("transition",{attrs:{name:"el-fade-in-linear"}},[t.playerInfo?n("div",[n("div",{staticStyle:{overflow:"hidden"}},[n("div",{staticStyle:{float:"left",width:"50px","line-height":"50px"}},[n("el-image",{staticStyle:{width:"40px",height:"40px","vertical-align":"middle"},attrs:{src:t.playerInfo.pic,fit:"cover"}})],1),n("div",{staticStyle:{float:"left",width:"600px","line-height":"50px","text-align":"left"}},[n("span",[t._v(t._s(t.playerInfo.name))]),t._v(" \n                    "),n("span",[t._v(t._s(t.playTime))]),n("i",{staticClass:"el-icon-caret-left btn",on:{click:t.previousTrack}},[t._v("上一首")]),n("span",{staticClass:"btn",on:{click:function(e){t.play=!t.play}}},[t.play?n("i",{staticClass:"el-icon-video-pause btn"}):n("i",{staticClass:"el-icon-video-play btn"}),n("span",[t._v(t._s(t.play?t.pauseText:t.playText))])]),n("i",{staticClass:"el-icon-caret-right btn",on:{click:t.nextTrack}},[t._v("下一首")])])]),n("audio",{ref:"audio",staticStyle:{display:"none"},attrs:{src:t.playerInfo.url,autoplay:"",controls:""},on:{ended:t.ended,timeupdate:function(e){return t.timeupdate(e)}}}),n("transition",{attrs:{name:"el-fade-in-linear"}},[n("div",{staticStyle:{height:"10px"}},[t.currentProgress?n("div",{attrs:{width:"calc(100% - 100px)"}},[n("el-progress",{attrs:{percentage:t.currentProgress,"show-text":t.showProgressText}})],1):t._e()])])],1):t._e()])],1)},$=[],T=(n("c5f6"),{name:"AudioPlayer",props:["playerInfo"],data:function(){return{currentTime:null,duration:null,showProgressText:!1,play:!0,playText:"播放",pauseText:"暂停"}},mounted:function(){this.playerIndex=this.index;var t=this;window.onkeydown=function(e){return 32===e.keyCode&&(t.play=!t.play),37===e.keyCode&&t.$emit("chindex",!1),39===e.keyCode&&t.$emit("chindex",!0),!1}},methods:{ended:function(){this.$emit("chindex",!0)},timeupdate:function(t){this.currentTime=t.target.currentTime,this.duration=t.target.duration},nextTrack:function(){this.$emit("chindex",!0)},previousTrack:function(){this.$emit("chindex",!1)}},watch:{index:function(){this.playerIndex=this.index},play:function(){var t=this.$refs.audio;this.play?t.play():t.pause()}},computed:{playTime:function(){return O(this.currentTime)},currentProgress:function(){return+(this.currentTime/this.duration*100).toFixed(2)},totalTime:function(){return O(this.duration)}}});function O(t){var e=0,n=0,i=0;function a(t){var e=Number(t).toFixed(0);return t<10&&(e="0"+Number(t).toFixed(0)),e}t>60?(n=Math.floor(t/60),i=Math.floor(t%60),n>=60?(e=Math.floor(n/60),n=Math.floor(n%60)):e=0):(e=0,n=0,60==t?(n=1,i=0):i=t);var o=a(e)+":"+a(n)+":"+a(i);return o}var j=T,M=(n("00ed"),Object(h["a"])(j,C,$,!1,null,"1fa47da8",null)),P=M.exports,A={name:"app",data:function(){return{SongList:null,categoryId:null}},methods:{audioChIndex:function(t){var e=this.$store.state.playerIndex;this.$store.commit("updatePlayerIndex",t?++e:--e)}},components:{Aside:S,Header:k,AudioPlayer:P},watch:{SongList:function(){this.$store.commit("updatePlayerIndex",0)},categoryId:function(){}},computed:Object(r["a"])({},Object(d["b"])({playerInfo:function(t){return t.playerList?t.playerList.songs[t.playerIndex]:null}}))},E=A,N=(n("6c92"),Object(h["a"])(E,a,o,!1,null,null,null)),H=N.exports,q=n("8c4f"),F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello",staticStyle:{height:"100%"}},[n("Carousel",{attrs:{carousel:t.carousel,songlist:t.selectSongList,height:"300px"},on:{"update:songlist":function(e){t.selectSongList=e}}}),n("div",{staticStyle:{"background-color":"#fff",height:"calc( 100% - 300px)"}},[n("div",{staticStyle:{"line-height":"20px","background-color":"aliceblue"}}),n("div",{staticStyle:{height:"calc(100% - 20px)",overflow:"auto"}},t._l(t.songList,function(e){return n("div",{key:e.name,staticClass:"song-menu-item",on:{click:function(n){return t.clickSongItem(e.id)},contextmenu:function(n){return t.contextmenu(n,e)}}},[n("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.pic,fit:"cover"}}),n("span",{staticStyle:{padding:"0 5px"}},[t._v(t._s(e.name))])],1)}),0)]),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.contextMenuShow,expression:"contextMenuShow"}],ref:"contextmenu",staticStyle:{"line-height":"18px","background-color":"#fff",padding:"2px"},style:t.contextMenuStyle})])],1)},J=[],z=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.carousel?n("div",[n("el-carousel",{attrs:{interval:4e3,type:"card",height:t.height,"indicator-position":"none"}},t._l(t.carousel,function(e,i){return n("el-carousel-item",{key:i,nativeOn:{click:function(n){return t.clickCarousel(e.id)}}},[n("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.pic,fit:"cover"}},[n("span",[t._v("名字")]),t._v(": "),n("span",[t._v(t._s(e.name))])])],1)}),1)],1):t._e()}),D=[],G={props:["carousel","height"],data:function(){return{}},methods:{clickCarousel:function(t){var e=this;this.musicApi.songlist(t).then(function(t){e.$emit("update:songlist",t)})}}},R=G,U=(n("94fe"),Object(h["a"])(R,z,D,!1,null,null,null)),X=U.exports,Y={props:["categoryId"],data:function(){return{sortArr:[],activeIndex:"0",songList:null,selectSongList:null,contextMenuStyle:{position:"fixed",top:"",left:""},contextMenuShow:!1}},mounted:function(){var t=this;document.querySelector("body").addEventListener("click",function(){t.contextMenuShow=!1},!1)},methods:{clickSongItem:function(t){var e=this;this.musicApi.songlist(t).then(function(t){e.$emit("update:song-list",t.data.data)})},handleSelect:function(t){var e=this;this.musicApi.hotSongList({sortId:Number(t)+1}).then(function(t){e.songList=t.data.data})},contextmenu:function(t,e){var n=t.clientX,i=t.clientY;this.$refs.contextmenu.innerHTML="",this.$refs.contextmenu.innerHTML+="<span></span><span> ".concat(e.name," </span><br/>"),this.contextMenuShow=!0,this.contextMenuStyle.top=i+"px",this.contextMenuStyle.left=n+"px",t.preventDefault()}},watch:{selectSongList:function(t){this.$emit("update:song-list",t.data.data)},categoryId:function(){var t=this;t.categoryId&&this.musicApi.hotSongList({categoryId:t.categoryId}).then(function(e){t.songList=e.data.data})}},computed:{carousel:function(){return this.songList?this.songList.slice(0,4):null}},components:{Carousel:X}},B=Y,K=(n("8eb1"),Object(h["a"])(B,F,J,!1,null,"aa460722",null)),Q=K.exports;i["default"].config.productionTip=!1,i["default"].use(q["a"]);var V=[{path:"/SongMenu",components:{default:Q}},{path:"/",redirect:"/SongMenu"}],W=new q["a"]({routes:V}),Z=W,tt=n("5c96"),et=n.n(tt),nt=n("bc3a"),it=n.n(nt),at=it.a.create({baseURL:"https://api.itooi.cn/music/tencent/"});at.interceptors.request.use(function(t){var e="579621905";return t.params?t.params.key=e:t.url.indexOf("key")<0&&(t.url+="?key=".concat(e)),t},function(t){return Promise.reject(t)});var ot={hotSongList:function(t){return t=Object.assign({categoryId:null,sortId:3,limit:20},t),at.get("hotSongList",{params:t})},search:function(t){return t=Object.assign({s:"li",type:"song",limit:"20",offset:"1"},t),at.get("search",{params:t})},songlist:function(t){if(t)return at.get("songList",{params:{id:t}})},song:function(t){if(t)return at.get("song",{params:t})},songListCategory:function(){return at.get("songListCategory")},lic:function(t){return at.get(t)}},rt=ot;n("0fae");i["default"].use(d["a"]);var st=new d["a"].Store({state:{playerIndex:0,playerList:null},mutations:{updatePlayerIndex:function(t,e){t.playerIndex=e},updateplayerList:function(t,e){t.playerList=e}}}),ct=st;i["default"].prototype.musicApi=rt,i["default"].config.productionTip=!1,i["default"].use(et.a),new i["default"]({router:Z,musicApi:rt,store:ct,render:function(t){return t(H)}}).$mount("#app")},"6c92":function(t,e,n){"use strict";var i=n("d34a"),a=n.n(i);a.a},"8eb1":function(t,e,n){"use strict";var i=n("bbc2"),a=n.n(i);a.a},"94fe":function(t,e,n){"use strict";var i=n("1845"),a=n.n(i);a.a},"9b8a":function(t,e,n){},bbc2:function(t,e,n){},ce45:function(t,e,n){"use strict";var i=n("9b8a"),a=n.n(i);a.a},d34a:function(t,e,n){},de3f:function(t,e,n){}});
//# sourceMappingURL=index.22a776f1.js.map